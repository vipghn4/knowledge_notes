---
title: 6. External memory
tags: Computer architecture
---

<!-- TOC titleSize:2 tabSpaces:2 depthFrom:1 depthTo:6 withLinks:1 updateOnSave:1 orderedList:0 skip:0 title:1 charForUnorderedList:* -->
## Table of Contents
- [External memory](#external-memory)
  - [Magnetic disk](#magnetic-disk)
    - [Magnetic read and write mechanisms](#magnetic-read-and-write-mechanisms)
    - [Data organization and formatting](#data-organization-and-formatting)
    - [Physical characteristics](#physical-characteristics)
- [Appendix](#appendix)
  - [Concepts](#concepts)
<!-- /TOC -->

# External memory
## Magnetic disk
**Disk**. A circular platter constructed of nonmagnetic material, called the substrate, coated with a magnetizable material
* *Substrate material*. 
    * *Traditional material*. Aluminum or aluminium alloy material
    * *Trending*. More recently, glass substrates have been introduced with the following benefits
        * Improvement in the uniformity of the magnetic film surface to increase disk reliability
        * A significant reduction in overall surface defects to help reduce read-write errors
        * Ability to support lower fly heights
        * Better stiffness to reduce disk dynamics
        * Greater ability to withstand shock and damage

### Magnetic read and write mechanisms
**Disk head**. Data are recorded on and retrieved later from the disk via a conducting coil named the head

<div style="text-align:center">
    <img style="https://i.imgur.com/vckhxnD.png">
    <figcaption>Inductive write / magnetoresistive read head</figcaption>
</div>

* *Types of heads*. In many systems, there are two heads, i.e. a read head and a write head

    $\to$ During a read or write operation, the head is stationary while the platter rotates beneath it
* *Writing mechanism*. Exploit the fact that electricity flowing through a coil produces a magnetic field
    * *Idea*. Electric pulses are sent to the write head
        
        $\to$ The resulting magnetic patterns are recorded on the surface below, with different patterns for positive and negative currents
    * *Write head structure and material*.
        * *Material*. The write head is made of easily magnetizable material
        * *Structure*. The write head is in the shape of a rectangular doughnut with a gap along one side and a few turns of conducting wire along the opposite side

            $\to$ An electric current in the wire induces a magnetic field across the gap, which in tern magnetizes a small area of the recording medium
    * *Direction of magnetization on the recording medium*. Reversing the direction of the current reverses the direction of magnetization on the recording medium
* *Reading mechanism*. Exploit the fact that a magnetic field moving relative to a coil produces an electrical current in the coil
    * *Explain*. When the surface of the disk passes under the head, it generates a current of the same polarity as the one already recorded
    * *Read head structure and material*. Eseentially the same as for writing

        $\to$ The same head can be used for both writing and reading

**Contemporary rigid disk systems**. Use a different read mechanism, requiring a separate read head, positioned for convenience close to the write head
* *Read head structure*. Consist of partially shielded magnetoresistive (MR) sensor
    * *MR material*. Have an electrial resistance which depends on the direction of the magnetization of the medium moving under it
* *Reading mechanisms*. By passing the current through the MR sensor, resistance changes are detected as voltage signals
* *Benefits*. Allow higher-frequency operation, which leads to greater storage densities and operating speeds

### Data organization and formatting

<div style="text-align:center">
    <img style="https://i.imgur.com/fH2FR9z.png">
    <figcaption>Disk data layout</figcaption>
</div>

**Tracks**. The head is relatively small device capable of reading from or writing to a portion of the platter rotating beneath it

$\to$ This gives rise to the organization of data on the platter in a concentric set of rings, called tracks
* *Track width*. Each track is the same width as the head
* *Number of tracks*. Thousands of tracks per surface

**Gaps**. Adjacent tracks are separated by gaps, which prevents, at least minimizes, errors due to misalignment of the head, or simply interference of magnetic fields

**Sectors**. Data are transferred to and from disk in sectors as given the the figure above
* *Number of sectors per track*. Hundreds of sectors per track
* *Sector length*. There may be either fixed or variable sector lengths
* *Intratrack gaps*. To avoid imposign unreasonable precision requirements on the system

    $\to$ Adjacent sectors are seperated by intratrack (intersector) gaps

**Bit reading rate across disk regions**.

<div style="text-align:center">
    <img style="https://i.imgur.com/LvKqiTW.png">
    <figcaption>Disk layout methods</figcaption>
</div>

* *Problem*. A bit near the center of a rotating disk travels past a fixed point, e.g. a read-write head, slower than a bit on the outside

    $\to$ Some way must be found to compensate for the variation in speed, so that the head can read all the bits at the same rate
* *Constant angular velocity (CAV) method*. Increase the spacing between bits of information recorded in segments of the disk

    $\to$ The information can then be scanned at the same rate by rotating the disk at a fixed speed
    * *Drawback*. The amount of data which can be stored on the long outer tracks is only the same as what can be stored on the short inner tracks

        $\to$ Disk storage capacity in straightforward CAV system is limited by the maximum recording density which can be achieved on the innermost track
* *Multiple zone recording*. A technique used by most modern hard disk systems to increase density
    * *Idea*. The surface is divided into a number of concentric zones, e.g. 16
        * Within a zone, the number of bits per track is constant
        * Zones farther from the center contain more bits, i.e. more sectors, than zones closer to the centers
    * *Trade-off*. Allow for greater overall storage capacity at the expense of more complex circuitry
        * *Explain*. As the disk head moves from one zone to another, the length (along the track) of individual bits changes
            
            $\to$ This causes a change in the timing for reads and writes
    * *Control data*. Some means is required to locate sector positions within a track
        
        $\to$ Thre must be some starting point on the track, and a way of identifying the start and end of each sector
        * *Idea*. Use control data recorded on the disk
        * *Consequence*. The disk is formatted with some extra data used only by the disk drive and not accessible to the user

**An example of disk formatting**.

<div style="text-align:center">
    <img style="https://i.imgur.com/g3VieqN.png">
    <figcaption>Winchester disk format</figcaption>
</div>

* *Track structure*. Each track contains 30 fixed-length sectors of 600 bytes each
* *Sector structure*. Each sector holds 512 bytes of data, plus control information useful to the disk controller
    * *ID field*. A unique identifier or address used to locate a particular sector
    * *SYNCH byte*. A special bit pattern which delimits the beginning of the field
    * *Track number*. Identify a track on a surface
    * *Head number*. Identify a head, i.e. this disk has multiple surfaces
    * *Error detecting code*. The ID and data fields each contain an CRC error detecting code

### Physical characteristics

# Appendix
## Concepts
**Physical explanation of words**. 
* *The write mechanism exploits the fact that electricity flowing through a coil
produces a magnetic field*. 
    * *Vietnamese explanation*. Cuộn cảm, hay cuộn từ, là một loại linh kiện điện tử thụ động tạo từ một dây vẫn điện với vài vòng dây quấn, sinh ra từ trường khi có dòng điện chạy qua
        
        $\to$ Khi cho dòng điện 1 chiều chạy qua cuộn cảm, dòng điện sẽ sinh ra một từ trường có cường độ và chiều không đổi, ứng với chiều và cường độ dòng điện
* *The read mechanism exploits the fact that a magnetic field moving relative to a coil produces an electrical current in the coil*.
    * *Vietnamese explanation*. Đây thực chất là hiện tượng cảm ứng điện từ, i.e. hiện tượng hình thành một điện áp trên một vật dẫn khi vật dẫn đó được đặt trong một từ trường biến thiên

        $\to$ Thí nghiệm này được thực hiện bởi Micheal Faraday, người đã chứng tỏ bằng thực nghiệm rằng từ trường có thể sinh ra dòng điện