---
title: 7. Principles of network applications
tags: Computer networking
---

<!-- TOC titleSize:1 tabSpaces:2 depthFrom:1 depthTo:6 withLinks:1 updateOnSave:1 orderedList:0 skip:0 title:1 charForUnorderedList:* -->
# Table of Contents
- [Table of Contents](#table-of-contents)
- [Multiplexing and demultiplexing](#multiplexing-and-demultiplexing)
  - [Connectionless multiplexing and demultiplexing](#connectionless-multiplexing-and-demultiplexing)
  - [Connection-oriented multiplexing and demultiplexing](#connection-oriented-multiplexing-and-demultiplexing)
  - [Web servers and TCP](#web-servers-and-tcp)
<!-- /TOC -->

# Multiplexing and demultiplexing
**Transport layer in destination host**. The transport layer receives segments from the network layer just below

$\to$ The transport layer has the responsibility of delivering the data in these segments to the appropriate application process running in the host
* *Sockets*. A process can have one or more sockets, i.e. doors through which data passes from the network to the process and vice versa

    $\to$ The transport layer in the receiving host delivers data directly to an intermediary socket
    * *Socket identifier*. Since there can be more than one socket in the receiving host at a time

        $\to$ Each socket must have a unique identifier
* *Directing incoming transport-layer segment to the appropriate socket*. Each transport-layer segment has a set of fields in the segment for this purpose
    
    $\to$ At the receiving end, the transport layer examines these fields to identify the receiving socket, then directs the segment to that socket
    
    <div style="text-align:center">
        <img src="https://i.imgur.com/z0EURz1.png">
        <figcaption>Transport-layer multiplexing and demultiplexing</figcaption>
    </div>

    * *Demultiplexing*. The job of delivering the data in a transport-layer segment to the correct socket
    * *Multiplexing*. The job of 
        * Gathering data chunks at the source host from different sockets 
        * Encapsulating each chunk with header information to create segments
        * Passing the segments to the network layer
* *Generalization*. Demultiplexing and multiplexing are concerns whenever a single protocol at one layer is used by multiple protocols at the next higher layer

**Transport-layer segment structure**.

<div style="text-align:center">
    <img src="https://i.imgur.com/gx9RVNZ.png">
    <figcaption>Source and destination port-number fields in a transport-layer segment</figcaption>
</div>

* *Source and destination port-number fields*. Used for multiplexing and demultiplexing
    * *Port structure*. Each port number is a 16-bit number, from 0 to 65535
    * *Well-known port numbers*. Port numbers reserved for use by well-known application protocols, e.g. HTTP, FTP, etc.
        * *Range*. 0 to 1023, i.e. first 10 bits
        * *Reference documentation*. RFC 1700

    >**NOTE**. When developing an application, we must assign it a port number

* *Other header fields*. Differ from TCP and UDP

**Demultiplexing idea**. 
1. When a segment arrives at the host, the transport layer examines the destination port number in the segment
2. The transport layer then directs the segment to the corresponding socket
3. The segment's data then passes through the socket into the attached process

## Connectionless multiplexing and demultiplexing

## Connection-oriented multiplexing and demultiplexing

## Web servers and TCP